{
  "hash": "eca157adbb60c526e5d622668b0c93e3",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"more review\"\nsubtitle: \"ggplot etc - Yt Part 1 and Part 2 - P2 is more interesting line #197. \"\nauthor:\n  - name: \"Derek Rice\"\n    affiliations:\n      - name: \"School of Information, University of Arizona\"\ndescription: \"INFO526 Term Project\"\nformat:\n  html:\n    code-tools: true\n    code-overflow: wrap\n    code-line-numbers: true\n    embed-resources: true\neditor: visual\ncode-annotations: hover\nexecute:\n  warning: false\n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# cite: https://www.youtube.com/watch?v=h29g21z0a68&t=290s \n# just a review, should probably be more focused on maps and interactive maps, a quick review  \n\ndata(\"faithful\")\nggplot(data = faithful,\n       mapping = aes(x = eruptions, y = waiting, colour = eruptions)) +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot() +\n  geom_point(mapping = aes(x = eruptions, y = waiting, colour = eruptions < 3),\n             data = faithful)\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-1-2.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(faithful) +\n  geom_histogram(aes(x = eruptions, fill = eruptions < 3))\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-1-3.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(faithful, aes(x = eruptions, y = waiting)) +\n  geom_density_2d() +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-1-4.png){width=672}\n:::\n\n```{.r .cell-code}\n# make points sqr and slightly transparent \n\n\nggplot(faithful) +\n  geom_point(aes(x = eruptions, y = waiting), shape = 'square')\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-1-5.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(faithful) +\n  geom_point(aes(x = eruptions, y = waiting), shape = 'square', alpha = 0.5)\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-1-6.png){width=672}\n:::\n\n```{.r .cell-code}\n# colour dist. in two difference colours \nggplot(faithful) +\n  geom_histogram(aes(x = eruptions, fill = eruptions < 3.1))\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-1-7.png){width=672}\n:::\n\n```{.r .cell-code}\n# colour based on weight > 60\n\n# view(faithful) # two para. eruptions and waiting \n\nggplot(faithful) +\n  geom_histogram(aes(x = eruptions, fill = waiting < 60, position = \"identity\", alpha = 0.5))\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-1-8.png){width=672}\n:::\n\n```{.r .cell-code}\n# add a line that separates the two point dist.\n# how to draw a straight lines from a slope and intercept \n\nggplot(faithful) +\n  geom_point(aes(x = eruptions, y = waiting)) +\n  geom_abline(slope = 15, intercept = 25, colour = \"red\", linewidth = 3)\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-1-9.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nview(mpg)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg) +\n  geom_bar(aes(x = class, fill = as.factor(cyl)), colour = \"black\")\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n\n```{.r .cell-code}\nmpg_counted <- mpg |>\n  count(class, name = \"count\")\n\nview(mpg_counted)\n\nggplot(mpg_counted) +\n  geom_bar(aes(x = class, y = count),\n           stat = 'identity') #identity is just passing the data along \n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-3-2.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(mpg) +\n  geom_density(aes(x = hwy, y = after_stat(scaled)))\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-3-3.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(mpg) +\n  geom_jitter(aes(x = class, y = hwy), width = 0.2)\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-3-4.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(mpg) +\n  geom_point(\n    aes(x = displ, y = hwy, colour = class)\n  ) +\n  scale_colour_brewer(name = 'CLASS', type = 'qual', palette = 'Set1')\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-3-5.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(mpg) +\n  geom_point(aes(x = displ, y = hwy)) +\n  scale_x_continuous(breaks = c(3,5,6)) +\n  scale_y_continuous(trans = 'log10')\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-3-6.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(mpg) +\n  geom_point(aes(x = displ, y = hwy, colour = class, size = cyl)) +\n  scale_colour_brewer(type = 'qual') +\n  scale_size_area(breaks = c(4,5,6,8))\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-3-7.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg) +\n  geom_point(aes(x = displ, y = hwy)) + \n  facet_wrap(~ class)\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(mpg) +\n  geom_point(aes(x = displ, y = hwy)) + \n  facet_grid(year ~ drv)\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-4-2.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# coordinates \n\nggplot(mpg) +\n  geom_bar(aes(x = class)) +\n  coord_polar()\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(mpg) +\n  geom_bar(aes(x = class)) +\n  coord_polar(theta = 'y')\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-5-2.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(mpg) +\n  geom_bar(aes(x = class)) +\n  coord_polar(theta = 'y') +\n  expand_limits (y = 70) # set max on raidial dial \n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-5-3.png){width=672}\n:::\n\n```{.r .cell-code}\n# zoom in on data - set limits on scale \nggplot(mpg)+ \n  geom_bar(aes(x = class)) +\n  scale_y_continuous(limits = c(0,40)) #removes data \n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-5-4.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(mpg)+ \n  geom_bar(aes(x = class)) +\n  coord_cartesian(ylim = c(0,40)) #coord_cartesian does NOT remove data \n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-5-5.png){width=672}\n:::\n\n```{.r .cell-code}\n# then work on theme but nothing new \n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# cite: https://www.youtube.com/watch?v=0m4yywqNPVY&t=296s\n\n# Part 2\n\n# ggplot\n## 47 geoms\n## 25 stats\n## 62 scales \n\np1 <- ggplot(msleep) +\n  geom_boxplot(aes(x = sleep_total, y = vore, fill = vore))\n\np2 <- ggplot(msleep) +\n  geom_bar(aes(y = vore, fill = vore))\n\np3 <- ggplot(msleep) +\n  geom_point(aes(x = bodywt,\n                 y = sleep_total,\n                 colour = vore)) +\n  scale_x_log10()\n\np3\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n```{.r .cell-code}\ncombined_plot <- p1 + p2 + p3\n\nprint(combined_plot)\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-6-2.png){width=672}\n:::\n\n```{.r .cell-code}\nplot_all <- (p1 | p2) / p3\n\nprint(plot_all)\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-6-3.png){width=672}\n:::\n\n```{.r .cell-code}\nnew_plot <- plot_all\n\nnew_plot &\n   theme(\n    legend.position = \"none\" # removes legend from all plots\n  ) \n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-6-4.png){width=672}\n:::\n\n```{.r .cell-code}\nnew_plot +\n   plot_annotation(\n    title = \"Mammalian Sleep Patterns\",\n    tag_levels = \"A\" # tags plots - can use roman I \n  ) &  # must use & and not +\n   theme(\n    legend.position = \"none\" # removes legend from all plots\n  ) \n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-6-5.png){width=672}\n:::\n\n```{.r .cell-code}\nnew_plot +\n   plot_annotation(\n    title = \"Mammalian Sleep Patterns\",\n    tag_levels = \"I\" # tags plots - can use roman I \n  ) &  # must use & and not +\n   theme(\n    legend.position = \"none\" # removes legend from all plots\n  ) \n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-6-6.png){width=672}\n:::\n\n```{.r .cell-code}\n# Plot Composition\n\n# stories are told with multiple plots\n\n# plot layout hsould be flexible and well aligned \n\n# many approaches\n## facet hacking\n## gridExtra::grid.arrange()\n## ggpubr::ggrange()\n## cowplot::plot_grid()\n\n## patchwork <- preferred? \n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\np = ggplot(mtcars) +\n  geom_point(aes(x = disp, y = mpg))\n\np + p + p + plot_layout(width = c(1,2,1))\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n\n```{.r .cell-code}\np + p + p + plot_layout(width = unit(c(5,1,1),c('cm','null','null'))) # null is fill out remaining area\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-7-2.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\np1 <- ggplot(mtcars[mtcars$gear == 3,]) +\n  geom_point(aes(x = disp, y = mpg))\n\np2 <- ggplot(mtcars[mtcars$gear == 4,]) +\n  geom_point(aes(x = disp, y = mpg))\n\np1 + p2  # axis are not aligned\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# view(mtcars)\n\np1 + p2 & scale_y_continuous(limits = c(10,40)) & scale_x_continuous(limits = c(50,500))\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-8-2.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# how should the textual rep. be understood? \n\n### layout in Patchwork ### \n\np1 <- ggplot(mtcars) +\n  geom_point(aes(x = disp, y = mpg))\n\np2 <- ggplot(mtcars) +\n  geom_bar(aes(x = factor(gear)))\n\np3 <- ggplot(mtcars) +\n  geom_boxplot(aes(x = factor(gear), y = mpg))\n\np1 + p2 + p3\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n\n```{.r .cell-code}\nlayout <- '\nAAA #fraction of screen width used for plot AA# = left 2/3 and #AA = right 2/3 and AAA = full width\n#BB # can also use numbers 1, 2, 3 ... \nC##\n'\n\n# p1 + p2 + p3 + plot_layout(design = layout)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n### animations \n\n# ANIMATION \n# story telling and attention grabbing\n# may turn boring people off\n# our eyes are drawn to movement and our mind thinks in motion \n\n# many ways to make animaltions - gganimage may be the only one doing the \"grammar\" way \n\n# ggplot2 wrapper - simply provides new grammar elements and takes over rendering \n\nggplot(economics) +\n  geom_line(aes(x = date, y = unemploy))\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(economics) +\n  geom_line(aes(x = date, y = unemploy)) +\n  transition_reveal(along = date)\n\n\nggplot(mpg) +\n  geom_bar(aes(x = factor(cyl))) +\n  labs(title = \"Number of cars in {closest_state} by number of cylinders\") +\n  transition_states(states = year) +\n  enter_grow() +\n  exit_fade() \n\n\nggplot(mpg) +\n  geom_point(aes(x = displ, y = hwy)) +\n  ggtitle(\"Cars with {closest_state} cylinders\") +\n  transition_states(factor(cyl))\n\nggplot(mpg) +\n  geom_point(aes(x = displ, y = hwy, group = seq_len(nrow(mpg)))) + #define discrete groups with group=seq_len()\n  ggtitle(\"Cars with {closest_state} cylinders\") +\n  transition_states(factor(cyl))\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-10-1.gif)\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n## ANNOTATION \n# two key packages\n# ggrepel\n# ggforce \n\nggplot(mtcars, aes(x = disp, y = mpg)) +\n  geom_point() +\n  geom_text_repel(\n    aes(label = row.names(mtcars))\n  )\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# ggrepel\nggplot(mtcars, aes(x = disp, y = mpg)) +\n  geom_point() +\n  geom_text_repel(\n    aes(label = row.names(mtcars))\n  )\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-11-2.png){width=672}\n:::\n\n```{.r .cell-code}\n# ggforce\nggplot(mtcars, aes(x = disp, y = mpg)) +\n  geom_point() +\n  geom_mark_ellipse(  # there are other options to ellipse, circle, square, hull\n    aes(filter = gear == 4,\n        label = '4 gear cars',\n        description = \"cars with fewer gears .. \"))\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-11-3.png){width=672}\n:::\n\n```{.r .cell-code}\n# reduce number of points with labels\n# ggrepel\nmtcars2 <- mtcars\nmtcars2$label <- rownames(mtcars2)\npoints_to_label <- sample(nrow(mtcars),10) #first ten labels \n\nggplot(mtcars2, aes(x = disp, y = mpg)) +\n  geom_point() +\n  geom_text_repel(aes(label = label), data = mtcars2[points_to_label,])\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-11-4.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(mtcars, aes( x = disp, y = mpg)) +\n  geom_point() +\n  geom_mark_ellipse(aes(fill = factor(gear), label = gear)) # very interesting \n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-11-5.png){width=672}\n:::\n\n```{.r .cell-code}\n# also a package called gghighlight \n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n### Part 3: Beyond GGPLOT2 #######\n# https://www.youtube.com/watch?v=0m4yywqNPVY&t=3884s\n# 1:24:00\n\n# NETWORKS\n# GGally\n# ggnetwork\n# geomnet\n# ggtree\n# ggdag\n#install.packages(\"BiocManager\")\n#BiocManager::install(\"ggtree\")\n\n# install.packages(\"ggtree\")\nlibrary(ggtree)\nlibrary(ape)\n\n# for graphically displaying socal networks, the interelatinship between nodes\n\n# can plot a hierarchical clusters \n\niris_clust <- hclust(dist(iris[,1:4]))\n\niris_phylo <- as.phylo(iris_clust)\n\nggtree(iris_phylo) +\n  geom_tiplab() +\n  theme_tree2()\n```\n\n::: {.cell-output-display}\n![](more_coding_practice_22JUNE2024_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Part 4 - drawing anything\n# 1:48:00\n```\n:::\n",
    "supporting": [
      "more_coding_practice_22JUNE2024_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}