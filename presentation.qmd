---
title: "Outer Space Launch Data by Country"
subtitle: "INFO 526 - Summer 2024 - Final Project"
author: "Derek Rice"
title-slide-attributes:
  data-background-image: images/watercolour_sys02_img34_teacup-ocean.jpg
  data-background-size: stretch
  data-background-opacity: "0.7"
  data-slide-number: none
format:
  revealjs:
    theme:  ['data/customtheming.scss']
  
editor: visual
execute:
  echo: false
---

```{r load-packages, message = FALSE}
#| echo: FALSE
#| warning: FALSE

# Install and load packages
if(!require(pacman))
  install.packages("pacman")

pacman::p_load(tidyverse,
               sf,
               ggspatial,
               rnaturalearth,
               rnaturalearthdata,
               mapproj,
               geofacet,
               glue,
               countdown,
               here,
               ggthemes,
               ggrepel,
               dlpyr,
               viridis,
               tigris,
               readxl,
               patchwork
               )

# global theme 


# set theme for ggplot2
ggplot2::theme_set(ggplot2::theme_minimal(base_size=25))

# set width of code output
options(width = 65)

# set figure parameters for knitr
knitr::opts_chunk$set(
  fig.width = 15,
  fig.asp = 0.618,
  fig.retina = 3, 
  fig.align = "center",
  dpi = 300
)
                   
here::here()

```

```{r}
#| label: load-data
#| include: false
# Load data here
outer_space_objects <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2024/2024-04-23/outer_space_objects.csv')
```

```{r}
outer_space_objects <- na.omit(outer_space_objects)
outer_space_objects <- outer_space_objects |>
  filter(Entity != c("World","APSCO"))

view(outer_space_objects)

world_map <- map_data("world") |>
  as_tibble()


outer_space_objects |> 
  anti_join(world_map, by = c("Entity" = "region")) |>
  select(Entity) |>
  print(n = 14)

outer_space_objects_updated <- outer_space_objects |>
  mutate(Entity = case_when(
    Entity == "Czechia" ~ "Czech Republic",
    Entity == "United Kingdom" ~ "UK",
    Entity == "United States" ~ "USA",
    TRUE ~ Entity
    )
  )


outer_space_objects_updated <- outer_space_objects_updated |>
  filter(Entity != "World")


outer_space_objects_updated |> 
  anti_join(world_map, by = c("Entity" = "region")) |>
  select(Entity) |>
  print(n = 14)

view(outer_space_objects_updated)

# join the data together

space_objects_map <- outer_space_objects_updated |> 
  left_join(world_map, by = c("Entity" = "region"),
            relationship = "many-to-many")|>
  mutate(Year = factor(Year,ordered = TRUE))




view(space_objects_map)

```

```{r}
# cite: https://www.youtube.com/watch?v=2rnsbodsJVc

world_map <- ggplot(map_data("world"), aes(x = long, y = lat, group = group)) +
  geom_polygon(fill = "white", color = "#3c3b6e", linewidth = 0.5) +
  labs(
    x = NULL,
    y = NULL
  )

world_map


world_map +
  coord_map(
    projection = "mercator",
    xlim = c(-180,180) # removes the horizontal lines (good to know)
  )



```


```{r}


space_objects_map |>
  ggplot(aes(x = long, y = lat, group = group)) + 
  geom_polygon(aes(fill = num_objects), color = "gray", linewidth = 0.1) +
  theme_minimal() +
  theme(
    legend.position = 'none'
  )

print(subset(world_map,region="USA"))
print(subset(world_map,region="United States"))

```

```{r}
map_unique <- space_objects_map |>
  distinct(Entity)

print(map_unique)



```

```{r}



```

```{r}

```

# Using Quarto for presentations

## Quarto

-   The presentation is created using the Quarto CLI

-   `##` sets the start of a new slide

## Layouts

You can use plain text

::: columns
::: {.column width="40%"}
-   or bullet points[^1]
:::

::: {.column width="60%"}
or in two columns
:::
:::

[^1]: And add footnotes

-   like

-   this

## Code

```{r, echo=FALSE}


```

## Plots

```{r}

```

## Plot and text

::: columns
::: {.column width="50%"}
-   Some text

-   goes here
:::

::: {.column width="50%"}
```         
```
:::
:::

# A new section...

## Tables

If you want to generate a table, make sure it is in the HTML format (instead of Markdown or other formats), e.g.,

```{r}

```

## Images

![Image credit: Danielle Navarro, Percolate.](images/watercolour_sys02_img34_teacup-ocean.png){fig-align="center" width="500"}

## Math Expressions {.smaller}

You can write LaTeX math expressions inside a pair of dollar signs, e.g.Â \$\\alpha+\\beta\$ renders $\alpha + \beta$. You can use the display style with double dollar signs:

```         
$$\bar{X}=\frac{1}{n}\sum_{i=1}^nX_i$$
```

$$
\bar{X}=\frac{1}{n}\sum_{i=1}^nX_i
$$

Limitations:

1.  The source code of a LaTeX math expression must be in one line, unless it is inside a pair of double dollar signs, in which case the starting `$$` must appear in the very beginning of a line, followed immediately by a non-space character, and the ending `$$` must be at the end of a line, led by a non-space character;

2.  There should not be spaces after the opening `$` or before the closing `$`.

# Wrap up

## Feeling adventurous?

-   You are welcomed to use the default styling of the slides. In fact, that's what I expect majority of you will do. You will differentiate yourself with the content of your presentation.

-   But some of you might want to play around with slide styling. Some solutions for this can be found at https://quarto.org/docs/presentations/revealjs.
